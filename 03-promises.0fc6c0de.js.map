{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAS,CACbC,MAAO,EACPC,KAAM,EACNC,OAAQ,GAGVN,EAAKO,iBAAiB,UAQtB,SAAsBC,GAGpB,SAASC,EAAcC,EAAUN,GAC/B,OAAO,IAAIO,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAS,CAAEP,WAAUN,SAC3Bc,YAAW,WACLJ,EACFF,EAAQK,GAERJ,EAAOI,KAERb,MAZPI,EAAIW,iBAkBJ,IAFA,IAAIC,EAAWjB,EAAOC,MAEbiB,EAAI,EAAGA,GAAKlB,EAAOG,OAAQe,GAAK,EACvCZ,EAAcY,EAAGD,GACdE,MAAK,SAAAC,G,IAAGb,EAAQa,EAARb,SAAUN,EAAKmB,EAALnB,MACjBN,EAAA0B,OAAOC,QAAQ,uBAAwCC,OAAfhB,EAAS,QAAYgB,OAANtB,EAAM,UAE9DuB,OAAM,SAAAJ,G,IAAGb,EAAQa,EAARb,SAAUN,EAAKmB,EAALnB,MAClBN,EAAA0B,OAAOI,QAAQ,sBAAqCF,OAAfhB,EAAS,QAAYgB,OAANtB,EAAM,UAE9DgB,GAAYjB,EAAOE,KAErBG,EAAIqB,cAAcC,WApCpB9B,EAAKO,iBAAiB,SAEtB,SAAqBC,GACnBL,EAAOK,EAAIuB,OAAOC,MAAQC,OAAOzB,EAAIuB,OAAOG,UAE9CC,QAAQC,IAAIjC,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst inputs = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n};\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', handleInput);\n\nfunction handleInput(evt) {\n  inputs[evt.target.name] = Number(evt.target.value);\n}\nconsole.log(inputs);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  function createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n      const result = { position, delay };\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve(result);\n        } else {\n          reject(result);\n        }\n      }, delay);\n    });\n  }\n\n  let newDelay = inputs.delay;\n\n  for (let i = 1; i <= inputs.amount; i += 1) {\n    createPromise(i, newDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    newDelay += inputs.step;\n  }\n  evt.currentTarget.reset();\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputs","delay","step","amount","addEventListener","evt","createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","result","setTimeout","preventDefault","newDelay","i","then","param","Notify","success","concat","catch","failure","currentTarget","reset","target","name","Number","value","console","log"],"version":3,"file":"03-promises.0fc6c0de.js.map"}