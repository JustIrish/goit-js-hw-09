{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAS,CACbC,MAAO,EACPC,KAAM,EACNC,OAAQ,GAGVN,EAAKO,iBAAiB,UAQtB,SAAsBC,GAGpB,SAASC,EAAcC,EAAUN,GAC/B,OAAO,IAAIO,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAS,C,SAAEP,E,MAAUN,GAC3Bc,YAAW,KACLJ,EACFF,EAAQK,GAERJ,EAAOI,KAERb,MAZPI,EAAIW,iBAgBJ,IAAIC,EAAWjB,EAAOC,MAEtB,IAAK,IAAIiB,EAAI,EAAGA,GAAKlB,EAAOG,OAAQe,GAAK,EACvCZ,EAAcY,EAAGD,GACdE,MAAK,EAACZ,SAAEA,EAAQN,MAAEA,MACjBN,EAAAyB,OAAOC,QAAQ,uBAAqBd,QAAiBN,UAEtDqB,OAAM,EAACf,SAAEA,EAAQN,MAAEA,MAClBN,EAAAyB,OAAOG,QAAQ,sBAAoBhB,QAAeN,UAEtDgB,GAAYjB,EAAOE,KAErBG,EAAImB,cAAcC,WApCpB5B,EAAKO,iBAAiB,SAEtB,SAAqBC,GACnBL,EAAOK,EAAIqB,OAAOC,MAAQC,OAAOvB,EAAIqB,OAAOG,UAE9CC,QAAQC,IAAI/B","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst inputs = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n};\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', handleInput);\n\nfunction handleInput(evt) {\n  inputs[evt.target.name] = Number(evt.target.value);\n}\nconsole.log(inputs);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  function createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n      const result = { position, delay };\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve(result);\n        } else {\n          reject(result);\n        }\n      }, delay);\n    });\n  }\n\n  let newDelay = inputs.delay;\n\n  for (let i = 1; i <= inputs.amount; i += 1) {\n    createPromise(i, newDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    newDelay += inputs.step;\n  }\n  evt.currentTarget.reset();\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputs","delay","step","amount","addEventListener","evt","createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","result","setTimeout","preventDefault","newDelay","i","then","Notify","success","catch","failure","currentTarget","reset","target","name","Number","value","console","log"],"version":3,"file":"03-promises.49f4ff48.js.map"}